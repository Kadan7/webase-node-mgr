#!/bin/sh

frontIp=defaultFrontIp
frontPort=defaultFrontPort
contractdetailVersion="v1.0"
userVersion="v1.0"
nodeVersion="v1.0"



echo -e "\n deploy contractdetail. start ..."

 ##deploy contractdetail
curl -l -H "Content-type: application/json" --connect-timeout 30 -X POST -d "{\"contractName\" : \"contractdetail\", \"version\" : \"${contractdetailVersion}\",\"userID\" : \"700001\",\"abiInfo\" : [{\"constant\":true,\"inputs\":[{\"name\":\"contractAddress\",\"type\":\"address\"}],\"name\":\"getContract\",\"outputs\":[{\"name\":\"contractName\",\"type\":\"string\"},{\"name\":\"contractAbi\",\"type\":\"string\"},{\"name\":\"contractBin\",\"type\":\"string\"},{\"name\":\"networkId\",\"type\":\"string\"},{\"name\":\"deployTime\",\"type\":\"string\"},{\"name\":\"contractSource\",\"type\":\"string\"},{\"name\":\"index\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"contractAddress\",\"type\":\"address\"}],\"name\":\"deleteContract\",\"outputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"contractAddress\",\"type\":\"address\"},{\"name\":\"contractName\",\"type\":\"string\"},{\"name\":\"contractAbi\",\"type\":\"string\"},{\"name\":\"contractBin\",\"type\":\"string\"},{\"name\":\"networkId\",\"type\":\"string\"},{\"name\":\"deployTime\",\"type\":\"string\"},{\"name\":\"contractSource\",\"type\":\"string\"}],\"name\":\"insertContract\",\"outputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getContractCount\",\"outputs\":[{\"name\":\"count\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getContractAtIndex\",\"outputs\":[{\"name\":\"contractName\",\"type\":\"string\"},{\"name\":\"contractAbi\",\"type\":\"string\"},{\"name\":\"contractBin\",\"type\":\"string\"},{\"name\":\"networkId\",\"type\":\"string\"},{\"name\":\"deployTime\",\"type\":\"string\"},{\"name\":\"contractSource\",\"type\":\"string\"},{\"name\":\"index1\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"contractAddress\",\"type\":\"address\"}],\"name\":\"isContractExist\",\"outputs\":[{\"name\":\"isIndeed\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"contractName\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"contractAbi\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"contractBin\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"networkId\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"deployTime\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"contractSource\",\"type\":\"string\"}],\"name\":\"LogNewContract\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"contractAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"LogDeleteContract\",\"type\":\"event\"}],\"bytecodeBin\" : \"6060604052341561000c57fe5b5b6119d38061001c6000396000f30060606040523615610076576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630ad1c2fa146100785780632637a4771461039e5780637156257d146103e85780639399869d146105c45780639b534f18146105ea578063bde61cee146108fa575bfe5b341561008057fe5b6100ac600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610948565b6040518080602001806020018060200180602001806020018060200188815260200187810387528e818151815260200191508051906020019080838360008314610115575b805182526020831115610115576020820191506020810190506020830392506100f1565b505050905090810190601f1680156101415780820380516001836020036101000a031916815260200191505b5087810386528d818151815260200191508051906020019080838360008314610189575b80518252602083111561018957602082019150602081019050602083039250610165565b505050905090810190601f1680156101b55780820380516001836020036101000a031916815260200191505b5087810385528c8181518152602001915080519060200190808383600083146101fd575b8051825260208311156101fd576020820191506020810190506020830392506101d9565b505050905090810190601f1680156102295780820380516001836020036101000a031916815260200191505b5087810384528b818151815260200191508051906020019080838360008314610271575b8051825260208311156102715760208201915060208101905060208303925061024d565b505050905090810190601f16801561029d5780820380516001836020036101000a031916815260200191505b5087810383528a8181518152602001915080519060200190808383600083146102e5575b8051825260208311156102e5576020820191506020810190506020830392506102c1565b505050905090810190601f1680156103115780820380516001836020036101000a031916815260200191505b50878103825289818151815260200191508051906020019080838360008314610359575b80518252602083111561035957602082019150602081019050602083039250610335565b505050905090810190601f1680156103855780820380516001836020036101000a031916815260200191505b509d505050505050505050505050505060405180910390f35b34156103a657fe5b6103d2600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610f20565b6040518082815260200191505060405180910390f35b34156103f057fe5b6105ae600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919050506110d6565b6040518082815260200191505060405180910390f35b34156105cc57fe5b6105d461172b565b6040518082815260200191505060405180910390f35b34156105f257fe5b6106086004808035906020019091905050611739565b6040518080602001806020018060200180602001806020018060200188815260200187810387528e818151815260200191508051906020019080838360008314610671575b8051825260208311156106715760208201915060208101905060208303925061064d565b505050905090810190601f16801561069d5780820380516001836020036101000a031916815260200191505b5087810386528d8181518152602001915080519060200190808383600083146106e5575b8051825260208311156106e5576020820191506020810190506020830392506106c1565b505050905090810190601f1680156107115780820380516001836020036101000a031916815260200191505b5087810385528c818151815260200191508051906020019080838360008314610759575b80518252602083111561075957602082019150602081019050602083039250610735565b505050905090810190601f1680156107855780820380516001836020036101000a031916815260200191505b5087810384528b8181518152602001915080519060200190808383600083146107cd575b8051825260208311156107cd576020820191506020810190506020830392506107a9565b505050905090810190601f1680156107f95780820380516001836020036101000a031916815260200191505b5087810383528a818151815260200191508051906020019080838360008314610841575b8051825260208311156108415760208201915060208101905060208303925061081d565b505050905090810190601f16801561086d5780820380516001836020036101000a031916815260200191505b508781038252898181518152602001915080519060200190808383600083146108b5575b8051825260208311156108b557602082019150602081019050602083039250610891565b505050905090810190601f1680156108e15780820380516001836020036101000a031916815260200191505b509d505050505050505050505050505060405180910390f35b341561090257fe5b61092e600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506117c9565b604051808215151515815260200191505060405180910390f35b610950611896565b610958611896565b610960611896565b610968611896565b610970611896565b610978611896565b6000610983886117c9565b151561098f5760006000fd5b600060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001600060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101600060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600201600060008c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600501600060008d73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600401600060008e73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600301600060008f73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060060154868054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610bf35780601f10610bc857610100808354040283529160200191610bf3565b820191906000526020600020905b815481529060010190602001808311610bd657829003601f168201915b50505050509650858054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c8f5780601f10610c6457610100808354040283529160200191610c8f565b820191906000526020600020905b815481529060010190602001808311610c7257829003601f168201915b50505050509550848054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610d2b5780601f10610d0057610100808354040283529160200191610d2b565b820191906000526020600020905b815481529060010190602001808311610d0e57829003601f168201915b50505050509450838054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610dc75780601f10610d9c57610100808354040283529160200191610dc7565b820191906000526020600020905b815481529060010190602001808311610daa57829003601f168201915b50505050509350828054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610e635780601f10610e3857610100808354040283529160200191610e63565b820191906000526020600020905b815481529060010190602001808311610e4657829003601f168201915b50505050509250818054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610eff5780601f10610ed457610100808354040283529160200191610eff565b820191906000526020600020905b815481529060010190602001808311610ee257829003601f168201915b5050505050915096509650965096509650965096505b919395979092949650565b600060006000610f2f846117c9565b1515610f3b5760006000fd5b600060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206006015491506001600160018054905003815481101515610f9757fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905080600183815481101515610fd657fe5b906000526020600020900160005b6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060060181905550600180548091906001900361107c91906118aa565b508373ffffffffffffffffffffffffffffffffffffffff167f880d2658174af3f5b73b10333a61b5eb181cd60f5445a80cafe32146f8796630836040518082815260200191505060405180910390a28192505b5050919050565b60006110e1886117c9565b156110ec5760006000fd5b86600060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000190805190602001906111429291906118d6565b5085600060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010190805190602001906111999291906118d6565b5084600060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020190805190602001906111f09291906118d6565b5083600060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060050190805190602001906112479291906118d6565b5082600060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600401908051906020019061129e9291906118d6565b5081600060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030190805190602001906112f59291906118d6565b5060016001805480600101828161130c9190611956565b916000526020600020900160005b8b909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555003600060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600601819055508773ffffffffffffffffffffffffffffffffffffffff167f448124917995f2902032c01bd74f139a5804f0309ffa3cc13797d67dd02fb1ca600060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600601548989898989896040518088815260200180602001806020018060200180602001806020018060200187810387528d81815181526020019150805190602001908083836000831461148c575b80518252602083111561148c57602082019150602081019050602083039250611468565b505050905090810190601f1680156114b85780820380516001836020036101000a031916815260200191505b5087810386528c818151815260200191508051906020019080838360008314611500575b805182526020831115611500576020820191506020810190506020830392506114dc565b505050905090810190601f16801561152c5780820380516001836020036101000a031916815260200191505b5087810385528b818151815260200191508051906020019080838360008314611574575b80518252602083111561157457602082019150602081019050602083039250611550565b505050905090810190601f1680156115a05780820380516001836020036101000a031916815260200191505b5087810384528a8181518152602001915080519060200190808383600083146115e8575b8051825260208311156115e8576020820191506020810190506020830392506115c4565b505050905090810190601f1680156116145780820380516001836020036101000a031916815260200191505b5087810383528981815181526020019150805190602001908083836000831461165c575b80518252602083111561165c57602082019150602081019050602083039250611638565b505050905090810190601f1680156116885780820380516001836020036101000a031916815260200191505b508781038252888181518152602001915080519060200190808383600083146116d0575b8051825260208311156116d0576020820191506020810190506020830392506116ac565b505050905090810190601f1680156116fc5780820380516001836020036101000a031916815260200191505b509d505050505050505050505050505060405180910390a260016001805490500390505b979650505050505050565b600060018054905090505b90565b611741611896565b611749611896565b611751611896565b611759611896565b611761611896565b611769611896565b60006117af60018981548110151561177d57fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16610948565b96509650965096509650965096505b919395979092949650565b6000600060018054905014156117e25760009050611891565b8173ffffffffffffffffffffffffffffffffffffffff166001600060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206006015481548110151561184a57fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161490505b919050565b602060405190810160405280600081525090565b8154818355818115116118d1578183600052602060002091820191016118d09190611982565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061191757805160ff1916838001178555611945565b82800160010185558215611945579182015b82811115611944578251825591602001919060010190611929565b5b5090506119529190611982565b5090565b81548183558181151161197d5781836000526020600020918201910161197c9190611982565b5b505050565b6119a491905b808211156119a0576000816000905550600101611988565b5090565b905600a165627a7a723058205b20eb168958f93421bcb1749b9e425f6d34441e921f4ceb43e12560584bff380029\",\"funcParam\":[]}" http://${frontIp}:${frontPort}/webase-front/contract/deploy





echo -e "\n deploy user. start ..."

##deploy user
curl -l -H "Content-type: application/json" --connect-timeout 30 -X POST -d "{\"contractName\" : \"user\", \"version\" : \"${userVersion}\",\"userID\" : \"700001\",\"abiInfo\" : [{\"constant\":true,\"inputs\":[{\"name\":\"userId\",\"type\":\"string\"}],\"name\":\"getUser\",\"outputs\":[{\"name\":\"userName\",\"type\":\"string\"},{\"name\":\"networkId\",\"type\":\"string\"},{\"name\":\"orgId\",\"type\":\"string\"},{\"name\":\"publicKey\",\"type\":\"string\"},{\"name\":\"index\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"userId\",\"type\":\"string\"},{\"name\":\"userName\",\"type\":\"string\"},{\"name\":\"networkId\",\"type\":\"string\"},{\"name\":\"orgId\",\"type\":\"string\"},{\"name\":\"publicKey\",\"type\":\"string\"}],\"name\":\"insertUser\",\"outputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"userId\",\"type\":\"string\"}],\"name\":\"isUserExist\",\"outputs\":[{\"name\":\"isIndeed\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getUserCount\",\"outputs\":[{\"name\":\"count\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"userId\",\"type\":\"string\"}],\"name\":\"deleteUser\",\"outputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getUserAtIndex\",\"outputs\":[{\"name\":\"userName1\",\"type\":\"string\"},{\"name\":\"networkId1\",\"type\":\"string\"},{\"name\":\"orgId1\",\"type\":\"string\"},{\"name\":\"publicKey1\",\"type\":\"string\"},{\"name\":\"index1\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"userId\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"userName\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"networkId\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"orgId\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"publicKey\",\"type\":\"string\"}],\"name\":\"LogNewUser\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"userId\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"LogDeleteUser\",\"type\":\"event\"}],\"bytecodeBin\" : \"6060604052341561000c57fe5b5b6118eb8061001c6000396000f30060606040523615610076576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806331feb67114610078578063842f6509146102ce57806387eb60e514610448578063b5cb15f7146104ba578063d3695161146104e0578063ffcc7bbf1461054e575bfe5b341561008057fe5b6100d0600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505061076a565b604051808060200180602001806020018060200186815260200185810385528a818151815260200191508051906020019080838360008314610131575b8051825260208311156101315760208201915060208101905060208303925061010d565b505050905090810190601f16801561015d5780820380516001836020036101000a031916815260200191505b508581038452898181518152602001915080519060200190808383600083146101a5575b8051825260208311156101a557602082019150602081019050602083039250610181565b505050905090810190601f1680156101d15780820380516001836020036101000a031916815260200191505b50858103835288818151815260200191508051906020019080838360008314610219575b805182526020831115610219576020820191506020810190506020830392506101f5565b505050905090810190601f1680156102455780820380516001836020036101000a031916815260200191505b5085810382528781815181526020019150805190602001908083836000831461028d575b80518252602083111561028d57602082019150602081019050602083039250610269565b505050905090810190601f1680156102b95780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b34156102d657fe5b610432600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610c42565b6040518082815260200191505060405180910390f35b341561045057fe5b6104a0600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050611210565b604051808215151515815260200191505060405180910390f35b34156104c257fe5b6104ca61138d565b6040518082815260200191505060405180910390f35b34156104e857fe5b610538600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505061139b565b6040518082815260200191505060405180910390f35b341561055657fe5b61056c60048080359060200190919050506115be565b604051808060200180602001806020018060200186815260200185810385528a8181518152602001915080519060200190808383600083146105cd575b8051825260208311156105cd576020820191506020810190506020830392506105a9565b505050905090810190601f1680156105f95780820380516001836020036101000a031916815260200191505b50858103845289818151815260200191508051906020019080838360008314610641575b8051825260208311156106415760208201915060208101905060208303925061061d565b505050905090810190601f16801561066d5780820380516001836020036101000a031916815260200191505b508581038352888181518152602001915080519060200190808383600083146106b5575b8051825260208311156106b557602082019150602081019050602083039250610691565b505050905090810190601f1680156106e15780820380516001836020036101000a031916815260200191505b50858103825287818151815260200191508051906020019080838360008314610729575b80518252602083111561072957602082019150602081019050602083039250610705565b505050905090810190601f1680156107555780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b6107726116b3565b61077a6116b3565b6107826116b3565b61078a6116b3565b600061079586611210565b15156107a15760006000fd5b6000866040518082805190602001908083835b602083106107d757805182526020820191506020810190506020830392506107b4565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206000016000876040518082805190602001908083835b602083106108435780518252602082019150602081019050602083039250610820565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206001016000886040518082805190602001908083835b602083106108af578051825260208201915060208101905060208303925061088c565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206002016000896040518082805190602001908083835b6020831061091b57805182526020820191506020810190506020830392506108f8565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160008a6040518082805190602001908083835b602083106109875780518252602082019150602081019050602083039250610964565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060040154848054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610a535780601f10610a2857610100808354040283529160200191610a53565b820191906000526020600020905b815481529060010190602001808311610a3657829003601f168201915b50505050509450838054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610aef5780601f10610ac457610100808354040283529160200191610aef565b820191906000526020600020905b815481529060010190602001808311610ad257829003601f168201915b50505050509350828054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b8b5780601f10610b6057610100808354040283529160200191610b8b565b820191906000526020600020905b815481529060010190602001808311610b6e57829003601f168201915b50505050509250818054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c275780601f10610bfc57610100808354040283529160200191610c27565b820191906000526020600020905b815481529060010190602001808311610c0a57829003601f168201915b50505050509150945094509450945094505b91939590929450565b6000610c4d86611210565b15610c585760006000fd5b846000876040518082805190602001908083835b60208310610c8f5780518252602082019150602081019050602083039250610c6c565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206000019080519060200190610cd89291906116c7565b50836000876040518082805190602001908083835b60208310610d105780518252602082019150602081019050602083039250610ced565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206001019080519060200190610d599291906116c7565b50826000876040518082805190602001908083835b60208310610d915780518252602082019150602081019050602083039250610d6e565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206002019080519060200190610dda9291906116c7565b50816000876040518082805190602001908083835b60208310610e125780518252602082019150602081019050602083039250610def565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206003019080519060200190610e5b9291906116c7565b50600160018054806001018281610e729190611747565b916000526020600020900160005b8990919091509080519060200190610e999291906116c7565b50036000876040518082805190602001908083835b60208310610ed15780518252602082019150602081019050602083039250610eae565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060040181905550856040518082805190602001908083835b60208310610f3f5780518252602082019150602081019050602083039250610f1c565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390207f1bed29cac026221ff75e142283b8d0a85802064cb7204f18c6a207d91cfacee16000886040518082805190602001908083835b60208310610fc35780518252602082019150602081019050602083039250610fa0565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206004015487878787604051808681526020018060200180602001806020018060200185810385528981815181526020019150805190602001908083836000831461105f575b80518252602083111561105f5760208201915060208101905060208303925061103b565b505050905090810190601f16801561108b5780820380516001836020036101000a031916815260200191505b508581038452888181518152602001915080519060200190808383600083146110d3575b8051825260208311156110d3576020820191506020810190506020830392506110af565b505050905090810190601f1680156110ff5780820380516001836020036101000a031916815260200191505b50858103835287818151815260200191508051906020019080838360008314611147575b80518252602083111561114757602082019150602081019050602083039250611123565b505050905090810190601f1680156111735780820380516001836020036101000a031916815260200191505b508581038252868181518152602001915080519060200190808383600083146111bb575b8051825260208311156111bb57602082019150602081019050602083039250611197565b505050905090810190601f1680156111e75780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390a260016001805490500390505b95945050505050565b6000600060018054905014156112295760009050611388565b816040518082805190602001908083835b6020831061125d578051825260208201915060208101905060208303925061123a565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660016000846040518082805190602001908083835b602083106112c657805182526020820191506020810190506020830392506112a3565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206004015481548110151561130957fe5b906000526020600020900160005b5060405180828054600181600116156101000203166002900480156113735780601f10611351576101008083540402835291820191611373565b820191906000526020600020905b81548152906001019060200180831161135f575b50509150506040518091039020600019161490505b919050565b600060018054905090505b90565b6000600060006113aa84611210565b15156113b65760006000fd5b6000846040518082805190602001908083835b602083106113ec57805182526020820191506020810190506020830392506113c9565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600401549150600160016001805490500381548110151561143c57fe5b906000526020600020900160005b5090508060018381548110151561145d57fe5b906000526020600020900160005b50908054600181600116156101000203166002900461148b929190611773565b508160008260405180828054600181600116156101000203166002900480156114eb5780601f106114c95761010080835404028352918201916114eb565b820191906000526020600020905b8154815290600101906020018083116114d7575b5050915050908152602001604051809103902060040181905550600180548091906001900361151a91906117fa565b50836040518082805190602001908083835b6020831061154f578051825260208201915060208101905060208303925061152c565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390207f028199360916fb53cb4b3d22794d42c7fcfd8bfb640f72109788dd75a2625c95836040518082815260200191505060405180910390a28192505b5050919050565b6115c66116b3565b6115ce6116b3565b6115d66116b3565b6115de6116b3565b600061169f6001878154811015156115f257fe5b906000526020600020900160005b508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156116955780601f1061166a57610100808354040283529160200191611695565b820191906000526020600020905b81548152906001019060200180831161167857829003601f168201915b505050505061076a565b945094509450945094505b91939590929450565b602060405190810160405280600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061170857805160ff1916838001178555611736565b82800160010185558215611736579182015b8281111561173557825182559160200191906001019061171a565b5b5090506117439190611826565b5090565b81548183558181151161176e5781836000526020600020918201910161176d919061184b565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106117ac57805485556117e9565b828001600101855582156117e957600052602060002091601f016020900482015b828111156117e85782548255916001019190600101906117cd565b5b5090506117f69190611826565b5090565b81548183558181151161182157818360005260206000209182019101611820919061184b565b5b505050565b61184891905b8082111561184457600081600090555060010161182c565b5090565b90565b61187491905b8082111561187057600081816118679190611877565b50600101611851565b5090565b90565b50805460018160011615610100020316600290046000825580601f1061189d57506118bc565b601f0160209004906000526020600020908101906118bb9190611826565b5b505600a165627a7a72305820af219774626ecc52f2381f9ee4b276a2aa450322458418d775307c705bc59da80029\",\"funcParam\":[]}" http://${frontIp}:${frontPort}/webase-front/contract/deploy





echo -e "\n deploy node. start ..."

##deploy node
curl -l -H "Content-type: application/json" --connect-timeout 30 -X POST -d "{\"contractName\" : \"node\", \"version\" : \"${nodeVersion}\",\"userID\" : \"700001\",\"abiInfo\" : [{\"constant\":true,\"inputs\":[],\"name\":\"getNodeCount\",\"outputs\":[{\"name\":\"count\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getNodeAtIndex\",\"outputs\":[{\"name\":\"nodeName\",\"type\":\"string\"},{\"name\":\"networkId\",\"type\":\"string\"},{\"name\":\"orgName\",\"type\":\"string\"},{\"name\":\"nodeIp\",\"type\":\"string\"},{\"name\":\"index1\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nodeId\",\"type\":\"string\"},{\"name\":\"nodeName\",\"type\":\"string\"},{\"name\":\"networkId\",\"type\":\"string\"},{\"name\":\"orgName\",\"type\":\"string\"},{\"name\":\"nodeIp\",\"type\":\"string\"}],\"name\":\"insertnode\",\"outputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"nodeId\",\"type\":\"string\"}],\"name\":\"deletenode\",\"outputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"nodeId\",\"type\":\"string\"}],\"name\":\"getNode\",\"outputs\":[{\"name\":\"nodeName\",\"type\":\"string\"},{\"name\":\"networkId\",\"type\":\"string\"},{\"name\":\"orgName\",\"type\":\"string\"},{\"name\":\"nodeIp\",\"type\":\"string\"},{\"name\":\"index\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"nodeId\",\"type\":\"string\"}],\"name\":\"isnodeExist\",\"outputs\":[{\"name\":\"isIndeed\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"nodeId\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nodeName\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"networkId\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"orgName\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"nodeIp\",\"type\":\"string\"}],\"name\":\"LogNewnode\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"nodeId\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"LogDeletenode\",\"type\":\"event\"}],\"bytecodeBin\" : \"6060604052341561000c57fe5b5b6118eb8061001c6000396000f30060606040523615610076576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806339bf397e146100785780633c59f1261461009e57806364c7b85f146102ba5780636cdde6bc146104345780639428522a146104a2578063b237832b146106f8575bfe5b341561008057fe5b61008861076a565b6040518082815260200191505060405180910390f35b34156100a657fe5b6100bc6004808035906020019091905050610778565b604051808060200180602001806020018060200186815260200185810385528a81815181526020019150805190602001908083836000831461011d575b80518252602083111561011d576020820191506020810190506020830392506100f9565b505050905090810190601f1680156101495780820380516001836020036101000a031916815260200191505b50858103845289818151815260200191508051906020019080838360008314610191575b8051825260208311156101915760208201915060208101905060208303925061016d565b505050905090810190601f1680156101bd5780820380516001836020036101000a031916815260200191505b50858103835288818151815260200191508051906020019080838360008314610205575b805182526020831115610205576020820191506020810190506020830392506101e1565b505050905090810190601f1680156102315780820380516001836020036101000a031916815260200191505b50858103825287818151815260200191508051906020019080838360008314610279575b80518252602083111561027957602082019150602081019050602083039250610255565b505050905090810190601f1680156102a55780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b34156102c257fe5b61041e600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505061086d565b6040518082815260200191505060405180910390f35b341561043c57fe5b61048c600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610e3b565b6040518082815260200191505060405180910390f35b34156104aa57fe5b6104fa600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505061105e565b604051808060200180602001806020018060200186815260200185810385528a81815181526020019150805190602001908083836000831461055b575b80518252602083111561055b57602082019150602081019050602083039250610537565b505050905090810190601f1680156105875780820380516001836020036101000a031916815260200191505b508581038452898181518152602001915080519060200190808383600083146105cf575b8051825260208311156105cf576020820191506020810190506020830392506105ab565b505050905090810190601f1680156105fb5780820380516001836020036101000a031916815260200191505b50858103835288818151815260200191508051906020019080838360008314610643575b8051825260208311156106435760208201915060208101905060208303925061061f565b505050905090810190601f16801561066f5780820380516001836020036101000a031916815260200191505b508581038252878181518152602001915080519060200190808383600083146106b7575b8051825260208311156106b757602082019150602081019050602083039250610693565b505050905090810190601f1680156106e35780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b341561070057fe5b610750600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050611536565b604051808215151515815260200191505060405180910390f35b600060018054905090505b90565b6107806116b3565b6107886116b3565b6107906116b3565b6107986116b3565b60006108596001878154811015156107ac57fe5b906000526020600020900160005b508054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561084f5780601f106108245761010080835404028352916020019161084f565b820191906000526020600020905b81548152906001019060200180831161083257829003601f168201915b505050505061105e565b945094509450945094505b91939590929450565b600061087886611536565b156108835760006000fd5b846000876040518082805190602001908083835b602083106108ba5780518252602082019150602081019050602083039250610897565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060000190805190602001906109039291906116c7565b50836000876040518082805190602001908083835b6020831061093b5780518252602082019150602081019050602083039250610918565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060020190805190602001906109849291906116c7565b50826000876040518082805190602001908083835b602083106109bc5780518252602082019150602081019050602083039250610999565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206001019080519060200190610a059291906116c7565b50816000876040518082805190602001908083835b60208310610a3d5780518252602082019150602081019050602083039250610a1a565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206003019080519060200190610a869291906116c7565b50600160018054806001018281610a9d9190611747565b916000526020600020900160005b8990919091509080519060200190610ac49291906116c7565b50036000876040518082805190602001908083835b60208310610afc5780518252602082019150602081019050602083039250610ad9565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060040181905550856040518082805190602001908083835b60208310610b6a5780518252602082019150602081019050602083039250610b47565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390207fdb60514326ebc76247b7b4a6fa14ae556c3795326332d7aea72a4e358c23d0cb6000886040518082805190602001908083835b60208310610bee5780518252602082019150602081019050602083039250610bcb565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060040154878787876040518086815260200180602001806020018060200180602001858103855289818151815260200191508051906020019080838360008314610c8a575b805182526020831115610c8a57602082019150602081019050602083039250610c66565b505050905090810190601f168015610cb65780820380516001836020036101000a031916815260200191505b50858103845288818151815260200191508051906020019080838360008314610cfe575b805182526020831115610cfe57602082019150602081019050602083039250610cda565b505050905090810190601f168015610d2a5780820380516001836020036101000a031916815260200191505b50858103835287818151815260200191508051906020019080838360008314610d72575b805182526020831115610d7257602082019150602081019050602083039250610d4e565b505050905090810190601f168015610d9e5780820380516001836020036101000a031916815260200191505b50858103825286818151815260200191508051906020019080838360008314610de6575b805182526020831115610de657602082019150602081019050602083039250610dc2565b505050905090810190601f168015610e125780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390a260016001805490500390505b95945050505050565b600060006000610e4a84611536565b1515610e565760006000fd5b6000846040518082805190602001908083835b60208310610e8c5780518252602082019150602081019050602083039250610e69565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206004015491506001600160018054905003815481101515610edc57fe5b906000526020600020900160005b50905080600183815481101515610efd57fe5b906000526020600020900160005b509080546001816001161561010002031660029004610f2b929190611773565b50816000826040518082805460018160011615610100020316600290048015610f8b5780601f10610f69576101008083540402835291820191610f8b565b820191906000526020600020905b815481529060010190602001808311610f77575b50509150509081526020016040518091039020600401819055506001805480919060019003610fba91906117fa565b50836040518082805190602001908083835b60208310610fef5780518252602082019150602081019050602083039250610fcc565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390207f94ef3a09f819192b4871124bfbb95b1467b015e8b48ebf7893a1c9b62cce9da2836040518082815260200191505060405180910390a28192505b5050919050565b6110666116b3565b61106e6116b3565b6110766116b3565b61107e6116b3565b600061108986611536565b15156110955760006000fd5b6000866040518082805190602001908083835b602083106110cb57805182526020820191506020810190506020830392506110a8565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206000016000876040518082805190602001908083835b602083106111375780518252602082019150602081019050602083039250611114565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206002016000886040518082805190602001908083835b602083106111a35780518252602082019150602081019050602083039250611180565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206001016000896040518082805190602001908083835b6020831061120f57805182526020820191506020810190506020830392506111ec565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160008a6040518082805190602001908083835b6020831061127b5780518252602082019150602081019050602083039250611258565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060040154848054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156113475780601f1061131c57610100808354040283529160200191611347565b820191906000526020600020905b81548152906001019060200180831161132a57829003601f168201915b50505050509450838054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156113e35780601f106113b8576101008083540402835291602001916113e3565b820191906000526020600020905b8154815290600101906020018083116113c657829003601f168201915b50505050509350828054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561147f5780601f106114545761010080835404028352916020019161147f565b820191906000526020600020905b81548152906001019060200180831161146257829003601f168201915b50505050509250818054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561151b5780601f106114f05761010080835404028352916020019161151b565b820191906000526020600020905b8154815290600101906020018083116114fe57829003601f168201915b50505050509150945094509450945094505b91939590929450565b60006000600180549050141561154f57600090506116ae565b816040518082805190602001908083835b602083106115835780518252602082019150602081019050602083039250611560565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660016000846040518082805190602001908083835b602083106115ec57805182526020820191506020810190506020830392506115c9565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206004015481548110151561162f57fe5b906000526020600020900160005b5060405180828054600181600116156101000203166002900480156116995780601f10611677576101008083540402835291820191611699565b820191906000526020600020905b815481529060010190602001808311611685575b50509150506040518091039020600019161490505b919050565b602060405190810160405280600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061170857805160ff1916838001178555611736565b82800160010185558215611736579182015b8281111561173557825182559160200191906001019061171a565b5b5090506117439190611826565b5090565b81548183558181151161176e5781836000526020600020918201910161176d919061184b565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106117ac57805485556117e9565b828001600101855582156117e957600052602060002091601f016020900482015b828111156117e85782548255916001019190600101906117cd565b5b5090506117f69190611826565b5090565b81548183558181151161182157818360005260206000209182019101611820919061184b565b5b505050565b61184891905b8082111561184457600081600090555060010161182c565b5090565b90565b61187491905b8082111561187057600081816118679190611877565b50600101611851565b5090565b90565b50805460018160011615610100020316600290046000825580601f1061189d57506118bc565b601f0160209004906000526020600020908101906118bb9190611826565b5b505600a165627a7a72305820ddcba7e0eb1a7bb70434bb180f57b81122f820ee6c4a6f8dc2b7e0226ac9efe30029\",\"funcParam\":[]}" http://${frontIp}:${frontPort}/webase-front/contract/deploy


 
 
